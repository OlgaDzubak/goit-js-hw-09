{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEYC,SAASC,cAAc,yBAC/BC,iBAAiB,SAEA,SAADC,GAClBA,EAAMC,iBACN,IAAIC,EAAaL,SAASC,cAAc,uBAAuBK,cAC3DC,EAAYP,SAASC,cAAc,sBAAsBK,cACzDE,EAASR,SAASC,cAAc,wBAAwBK,cACxDG,EAAW,EAEVJ,IAAaA,EAAa,GAC1BE,IAAYA,EAAY,GACxBC,IAASA,EAAS,GAEvB,IAAIE,EAAQL,EAERG,IACFG,WAAaC,aAAY,WAa7B,IAAuBC,EAAUC,GAAVD,EAXHJ,EAWaK,EAXHJ,EAYZ,IAAIK,SAAQ,SAACC,EAASC,GAEpC,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAACH,WAAUC,UAEnBG,EAAO,CAACJ,WAAUC,S,GAEnBA,E,KArBEQ,MAAM,SAAAC,G,IAAEV,EAAQU,EAARV,SAAUC,EAAKS,EAALT,MAAaU,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAwCC,OAAfd,EAAS,QAAYc,OAANb,EAAM,M,IACnGc,OAAI,SAAAL,G,IAAEV,EAAQU,EAARV,SAAUC,EAAKS,EAALT,MAAaU,EAAA1B,GAAS2B,OAAOI,QAAQ,sBAAuCF,OAAfd,EAAS,QAAYc,OAANb,EAAM,M,IAEnGJ,EAAML,EAAaE,EAAYE,GACjCA,GAAY,GACGD,GAASsB,cAAcnB,W,GACvC,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst btn = document.querySelector('button[type=\"submit\"]');     // Посилання на кнопку \"Create promise\"\nbtn.addEventListener('click', onBtnClick);                       // Додаємо слухач на кнопку \"Create promise\"\n\nfunction onBtnClick(event){                                      // Функція, що виконується при кліку на кнопку \"Create promise\"\n  event.preventDefault();\n  let delayFirst = document.querySelector('input[name=\"delay\"]').valueAsNumber; // Забираємо значення першої затримки з інпуту delay\n  let delayStep = document.querySelector('input[name=\"step\"]').valueAsNumber;   // Забираємо значення подальших затримок з інпуту step\n  let amount = document.querySelector('input[name=\"amount\"]').valueAsNumber;    // Забираємо значення кількості промісів з інпуту amount\n  let position = 1;                                                             // рахувальник ітерацій\n  \n  if (!delayFirst) {delayFirst = 0;}\n  if (!delayStep) {delayStep = 0;}\n  if (!amount) {amount = 0;}\n\n  let delay = delayFirst;\n\n  if (amount){\n    intervalId = setInterval(()=>{                                                  // створюємо функцію setInterval і виконуємо її із затримокю delay до тих пір, поки position<=amount\n      \n      createPromise(position, delay)\n        .then( ({position, delay}) => { Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);})\n        .catch(({position, delay}) => { Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms` );});\n              \n        delay = delayFirst + delayStep * position;\n        position += 1;\n        if (position > amount) {clearInterval(intervalId);}\n    }, 0);\n  }\n} \n\nfunction createPromise(position, delay) {                       // Функція створення проміса номер=position із затримкою delay\n  const promise = new Promise((resolve, reject) => {\n    \n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n\n  });\n  return promise;\n}"],"names":["$6JpON","parcelRequire","document","querySelector","addEventListener","event","preventDefault","delayFirst","valueAsNumber","delayStep","amount","position1","delay1","intervalId","setInterval","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","clearInterval"],"version":3,"file":"03-promises.43ee5739.js.map"}